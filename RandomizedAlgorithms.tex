\section{Randomized Algorithms}

\subsection{Processes and DB}
Assume each process $P_i$ has some probability $p$ to access a database. A successful round is when exactly one process accesses the database. The probability of a single successful round is $p(1 - p)^{n-1}$.\\
We can maximize this probability by setting $p = \frac{1}{n}$. The probability of success here is $\Theta(\frac{1}{n})$.\\
Now, let's examine how long it will take process $P_i$ to succeed in accessing the database at least once. Running $t$ times, the probability that process $P_i$ does not succeed in any of rounds 1 through $t$ is $\leq (1 - \frac{1}{en})^t$. Setting $t$ to $\left\lceil en \right\rceil$ means the probability is $\leq e^{-1}$, independent of $n$.\\
If we set $t = \left\lceil en \right\rceil \cdot (c \ln n)$, the probability of failure is upper-bounded by $n^{-c}$.\\
With probablity at least $1 - n^{-1}$, all processes succeed in accessing the database at least once within $t = 2 \left\lceil en \right\rceil \ln n$ rounds.

\subsection{The Union Bound}
Prob [ $\bigcup\limits_{i=1}^{\infty} F_{i}$ ] <= $\sum_{n=1}^{\infty}  Prob[ F_{i}] $ 

%%%%%%%

\subsection{Verifying AB=C}

B$\overbar{r} -> A(B\overbar{r})$ and $C\overbar{r}$. if $A(B\overbar{r}) != C\overbar{r}$ then $AB != C$

\subsection{Principle of Deferred Decisions}
If $AB != C$ and $\overbar{r}$ is chosen uniformly at random with $r_n$ at 0-1 then Prob($AB\overbar{r} = C\overbar{r}) <= 1/2$

\subsection{Law of Total Probability}
Let $E_1 ... E_n$ be mutually disjoint events in the sample space $\Omega$ and let $\bigcup\limits_{i=1}^{n} E_{i}$ then $\sum_{i=1}^{n}  Prob[ B | E_{i}] Prob[E_{i}] $ 

Repeated trials increase the runtime to $\Theta(kn^2)$
If it returns false, then it this is right, but if it returns true, then it returns so with some probability of mistake.

%%%%%%%

\subsection{Median Value}
$\sum_{j=1}^{\infty}  j * Prob[ X = j ]  = (n + 1) / 2$ while Prob $[X = j] = 1/n$

To take exactly $j$ steps: Prob $[X = j] = (1 - p)^{j - 1} p$
$1/p$ for the first success

\subsection{Median Value}
Linearity of Expectation: Given 2 random vars $X$ and $Y$ in the same probability space, $E [X + Y] = E[ X ] + E [ Y ] $

\subsection{Memoryless guessing}
Expected correct: 1, independent of $n$

\subsection{Memory guessing}
$H(n) = \Theta(log(n))$ [harmonic series]

\subsection{Coupon collection:}
$E[ X_{j}] = n / (n - j); n $= number of; $j$ = collected; $( n - j ) / n$ of getting a new one
$E[X] = nH(n) = \Theta(nlog(n))$

\subsection{Conditional Probability}
$E[ X | \alpha ] =  \sum_{j=0}^{\infty} j *$ Prob $[ X = j | \alpha]$

\subsection{Max 3-SAT}
There is a randomized algo with polynomial expected run time that is guaranteed to produce a truth assignment satisfying at least a $7/8$ fraction of all clauses. We would need $8k$ trials to get the satisfying assignment.

\begin{algorithmic}[1]
	\Function{Select}{$S, k$}
		\State {$a_i \gets random var in S$}
		\For{each element $a_j$ of $S$}
			\State{$S^{-}$.append($a_j$) if $a_j < a_i$}
			\State{$S^{+}$.append($a_j$) if $a_j > a_i$}
		\EndFor
		\If{$S^{-} = k - 1$}
			\State{return $a_i$}
		\ElsIf{$S^{-} \geq k$}
			\State{Select($S^{-}, k$)}
		\Else
			\State{Select($S^{+}, k-1- |S^{-}|$)}
		\EndIf
	\EndFunction
\end{algorithmic}

%%%%

\subsection{Quicksort ExpectedComparisons}
$2nln(n) + O(n), \Omega(nlogn)$

%%%

\subsection{Uniform}

Prob $[h(x) = i] = 1/m$ for all $x$ and all $i$

\subsection{Universal}
Prob $[h(x) = h(y)] = 1/m$ for all $x != y$
\subsection{Near-universal}
Prob $[h(x) = h(y)] \leq 2/m$ for all $x != y$; E[$chainLen$] $\leq 2*\alpha;$ Runtime: $\Theta(1 + \alpha)$
\subsection{k-uniform}
Prob $ [ \wedge{}_{j=1}^{k} h(x_j) = i_j) ] = 1 / m^{k}$ for all distinct $x_1...x_k$ and all $i_1...i_k$
\subsection{Load Factor}
$\alpha = n/m$
\subsection{Balanced Binary Tree Search}
O(1 + log($chainLen$)) with any hash 
O(1 + log($\alpha$)) for uniform
\subsection{Recursively Hash}
$O(log_{m}{n})$
\subsection{Expected Search w/ binary probe}
O(1)